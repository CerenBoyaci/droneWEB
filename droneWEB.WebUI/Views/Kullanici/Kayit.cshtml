@model droneWEB.WebUI.Models.KayitViewModel
@{
    Layout = "_LayoutKullanici";
    ViewData["Title"] = "Kayıt Ol";
}

<div class="card p-4 shadow" style="max-width: 600px; width:100%; margin:auto;">
    <div class="card p-4 shadow" style="max-width: 500px; width:100%; margin:auto;">
        <div class="d-flex justify-content-center mb-4">
            <a asp-action="Giris"
               class="btn me-2 @(ViewData["Title"]?.ToString() == "Giriş Yap" ? "btn-light text-primary border-primary" : "btn-primary")">
                Giriş Yap
            </a>
            <a asp-action="Kayit"
               class="btn @(ViewData["Title"]?.ToString() == "Kayıt Ol" ? "btn-light text-primary border-primary" : "btn-primary")">
                Kayıt Ol
            </a>
        </div>

    @if (ViewBag.Mesaj != null)
    {
        <div class="alert @(ViewBag.Basarili == true ? "alert-success" : "alert-danger")">
            @ViewBag.Mesaj
        </div>
    }

    <form asp-action="Kayit" method="post">
        <div class="row mb-3 align-items-center">
            <label for="Ad" class="col-sm-3 col-form-label">Ad</label>
            <div class="col-sm-9">
                <input asp-for="Ad" class="form-control" id="Ad" placeholder="Ad" />
                <span asp-validation-for="Ad" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3 align-items-center">
            <label for="Soyad" class="col-sm-3 col-form-label">Soyad</label>
            <div class="col-sm-9">
                <input asp-for="Soyad" class="form-control" id="Soyad" placeholder="Soyad" />
                <span asp-validation-for="Soyad" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3 align-items-center">
            <label for="Eposta" class="col-sm-3 col-form-label">Eposta</label>
            <div class="col-sm-9">
                <input asp-for="Eposta" type="email" class="form-control" id="Eposta" placeholder="Eposta" />
                <span asp-validation-for="Eposta" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3 align-items-center">
            <label for="TcKimlikNo" class="col-sm-3 col-form-label">TC Kimlik No</label>
            <div class="col-sm-9">
                <input asp-for="TcKimlikNo" id="TcKimlikNo" class="form-control" placeholder="TC Kimlik No" maxlength="11" />
                <span asp-validation-for="TcKimlikNo" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3 align-items-center">
            <label for="Telefon" class="col-sm-3 col-form-label">Telefon</label>
            <div class="col-sm-9 position-relative">
                <!-- +90 ön eki, gri renk -->
                <span class="position-absolute" style="left:12px; top:50%; transform:translateY(-50%); font-weight:bold; color:#6c757d;">+90</span>
                <input asp-for="Telefon" id="Telefon" class="form-control ps-5" maxlength="10" placeholder="___ ___ __ __" />
                <span asp-validation-for="Telefon" class="text-danger"></span>
            </div>
        </div>




        <div class="row mb-4 align-items-center">
            <label for="Sifre" class="col-sm-3 col-form-label">Şifre</label>
            <div class="col-sm-9">
                <input asp-for="Sifre" type="password" class="form-control" id="Sifre" placeholder="Şifre" />
                <span asp-validation-for="Sifre" class="text-danger"></span>
            </div>
        </div>

        <div class="text-center">
            <button type="submit" class="btn btn-lg btn-primary w-50">Kayıt Ol</button>
        </div>
    </form>
</div>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.8/inputmask.min.js"></script>
    <script>
        $(document).ready(function () {
            // Telefon maskesi
            Inputmask("999 999 99 99").mask("#Telefon");

            // TC Kimlik ve Telefon sadece rakam
            $("#TcKimlikNo, #Telefon").on("input", function () {
                this.value = this.value.replace(/[^0-9]/g, '');
            });
        });
    </script>

    @await Html.PartialAsync("_ValidationScriptsPartial")
}
