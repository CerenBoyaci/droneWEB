@model droneWEB.WebUI.Models.KayitViewModel
@using droneWEB.WebUI.Helpers

@{
    Layout = "_LayoutKullanici";
    ViewData["Title"] = "Kayıt Ol";
}

<section>
    <div>

        @if (ViewBag.Mesaj != null)
        {
            <div class="alert @(ViewBag.Basarili == true ? "alert-success" : "alert-danger")">
                @ViewBag.Mesaj
            </div>
        }

        <form asp-action="Kayit" method="post" class="transparent-form">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="Ad" class="form-label">Ad</label>
                    <input asp-for="Ad" class="form-control" id="Ad" />
                    <span asp-validation-for="Ad" class="text-danger"></span>
                </div>

                <div class="col-md-6 mb-3">
                    <label for="Soyad" class="form-label">Soyad</label>
                    <input asp-for="Soyad" class="form-control" id="Soyad" />
                    <span asp-validation-for="Soyad" class="text-danger"></span>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="Eposta" class="form-label">Eposta</label>
                    <input asp-for="Eposta" type="email" class="form-control" id="Eposta" />
                    <span asp-validation-for="Eposta" class="text-danger"></span>
                </div>

                <div class="col-md-6 mb-3">
                    <label for="TcKimlikNo" class="form-label">TC Kimlik No</label>
                    <input asp-for="TcKimlikNo" id="TcKimlikNo" class="form-control" maxlength="11" />
                    <span asp-validation-for="TcKimlikNo" class="text-danger"></span>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="Telefon" class="form-label">Telefon</label>
                    <input asp-for="Telefon" id="Telefon" class="form-control" maxlength="10" />
                    <span asp-validation-for="Telefon" class="text-danger"></span>
                </div>

                <div class="col-md-6 mb-3">
                    <label for="Sifre" class="form-label">Şifre</label>
                    <input asp-for="Sifre" type="password" class="form-control" id="Sifre" />
                    <span asp-validation-for="Sifre" class="text-danger"></span>
                </div>
            </div>

            <div class="mb-3">
                @Html.RenderCaptcha("CaptchaInput")
            </div>

            <div class="text-center mt-3">
                <button type="submit" class="btn btn-primary">Kayıt Ol</button>
            </div>

            
        </form>

    </div>
</section>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.8/inputmask.min.js"></script>
    <script>
        $(document).ready(function () {
            Inputmask("999 999 99 99").mask("#Telefon");

            $("#TcKimlikNo, #Telefon").on("input", function () {
                this.value = this.value.replace(/[^0-9]/g, '');
            });
        });
    </script>

    @await Html.PartialAsync("_ValidationScriptsPartial")
}
